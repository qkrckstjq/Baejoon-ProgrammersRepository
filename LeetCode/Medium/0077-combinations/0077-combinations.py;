class Solution:
    def combine(self, n: int, k: int) -> List[List[int]]:
        if n < 2:
            return [[1]]
        
        stack = []
        set_stack = []
        result = []
        for num in range(n-(k-1)):
            stack.append([num+1])
            set_stack.append({num+1})
        
        while len(stack) != 0:
            cur_nums = stack.pop()
            cur_set = set_stack.pop()
            
            last_num = cur_nums[len(cur_nums)-1]
            if len(cur_nums) == k:
                result.append(cur_nums)
            
            for num in range(last_num, n):
                temp_nums = list(cur_nums)
                temp_set = set(cur_set)
                if (num+1) not in temp_set:
                    temp_nums.append(num+1)
                    temp_set.add(num+1)
                    stack.append(temp_nums)
                    set_stack.append(temp_set)
        return result